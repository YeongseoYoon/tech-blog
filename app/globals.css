@tailwind base;
@tailwind components;
@tailwind utilities;

/* Highlight.js 테마 */
@import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css");

/* Highlight.js 커스텀 스타일 */
.hljs {
  @apply rounded-lg;
  background-color: #282c34 !important;
}

.dark .hljs {
  @apply rounded-lg;
  background-color: #282c34 !important;
}

.hljs-string {
  @apply text-green-400;
}

.dark .hljs-string {
  @apply text-green-400;
}

.hljs-number,
.hljs-literal {
  @apply text-orange-400;
}

.dark .hljs-number,
.dark .hljs-literal {
  @apply text-orange-400;
}

.hljs-attr {
  @apply text-cyan-400;
}

.dark .hljs-attr {
  @apply text-cyan-400;
}

.hljs-built_in {
  @apply text-cyan-300;
}

.dark .hljs-built_in {
  @apply text-cyan-300;
}

.hljs-title,
.hljs-function > .hljs-title {
  @apply text-yellow-300;
}

.dark .hljs-title,
.dark .hljs-function > .hljs-title {
  @apply text-yellow-300;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
  line-height: 1.6;
  @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200;
}

.prose {
  @apply max-w-none;
}

.prose pre {
  @apply bg-gray-900 text-gray-100 rounded-lg overflow-x-auto relative p-0 mb-4;
  background-color: #282c34 !important;
}

.dark .prose pre {
  @apply bg-gray-900 text-gray-100 rounded-lg overflow-x-auto relative p-0 mb-4;
  background-color: #282c34 !important;
}

/* 인라인 코드 (백틱으로 감싼 부분) */
.prose code:not(pre code) {
  @apply text-sm text-blue-600 dark:text-blue-400;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
}

/* 코드 블록 내부 코드는 기본 스타일 유지 */
.prose pre code {
  @apply block p-4;
  color: inherit !important;
  background: transparent !important;
}

.prose img {
  @apply w-full rounded-lg my-6 shadow-md;
  max-width: 100%;
  height: auto;
}

.prose img + img {
  @apply mt-4;
}

.code-block-container {
  @apply relative;
}

.copy-code-btn {
  @apply absolute top-3 right-3 bg-gray-700 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-500 text-gray-200 px-3 py-1.5 rounded text-xs font-medium transition z-10;
  @apply border border-gray-600 dark:border-gray-500;
  font-weight: 500;
}

.copy-code-btn:hover {
  @apply bg-gray-600 dark:bg-gray-500;
}

.copy-code-btn:active {
  @apply bg-green-500 border-green-500;
}

.copy-code-btn.copied {
  @apply bg-green-500 border-green-500 text-white;
}

.prose h1 {
  @apply text-4xl font-bold mt-8 mb-4 text-gray-900 dark:text-gray-100;
}

.prose h2 {
  @apply text-3xl font-bold mt-8 mb-4 text-gray-900 dark:text-gray-100;
}

.prose h3 {
  @apply text-2xl font-bold mt-6 mb-3 text-gray-800 dark:text-gray-200;
}

.prose h4 {
  @apply text-xl font-bold mt-4 mb-2 text-gray-800 dark:text-gray-200;
}

.prose a {
  @apply text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline break-all;
}

.prose blockquote {
  @apply border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-700 dark:text-gray-300;
}

.prose table {
  @apply w-full border-collapse;
}

.prose th,
.prose td {
  @apply border border-gray-300 dark:border-gray-600 px-4 py-2 text-left;
}

.prose th {
  @apply bg-gray-100 dark:bg-gray-800 font-semibold;
}

/* Table of Contents 스타일 */
.toc {
  @apply sticky top-4;
}

.toc h3 {
  @apply text-sm font-bold text-gray-900 dark:text-gray-100 mb-4 uppercase tracking-wider;
}

.toc ul {
  @apply list-none pl-0;
}

.toc li {
  @apply py-1.5;
}

.toc button {
  @apply text-left no-underline transition-all duration-200;
  @apply text-sm text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100;
}

.toc button:hover {
  @apply text-blue-600 dark:text-blue-400 font-medium;
}

.toc button[class*="active"] {
  @apply text-blue-600 dark:text-blue-400 font-semibold bg-blue-50 dark:bg-blue-900/30 -mx-2 px-2 py-1 rounded;
}

.toc-level-1 button {
  @apply pl-0;
}

.toc-level-2 button {
  @apply pl-4;
}

.toc-level-3 button {
  @apply pl-8;
}

.toc-level-4 button {
  @apply pl-12;
}

/* 태그 스타일 */
.tag {
  @apply inline-block bg-blue-50 text-blue-700 px-2.5 py-1 rounded-md text-xs font-medium mr-2 mb-2 hover:bg-blue-100 transition cursor-pointer;
}

.tag-filter {
  @apply inline-block bg-blue-600 text-white px-2.5 py-1 rounded-md text-xs font-medium mr-2 mb-2;
}

.tag-inactive {
  @apply inline-block bg-gray-100 text-gray-700 px-2.5 py-1 rounded-md text-xs font-medium mr-2 mb-2 hover:bg-gray-200 transition cursor-pointer;
}

/* Giscus 댓글 */
.giscus-frame {
  color-scheme: light dark;
}

/* 타이핑 애니메이션 커서 깜빡임 */
@keyframes blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

.typing-cursor {
  animation: blink 1s ease-in-out infinite;
}
